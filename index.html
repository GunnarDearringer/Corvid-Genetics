<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Corvid Genetics</title>

  <!-- Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- GSAP + ScrollTrigger + TextPlugin -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/TextPlugin.min.js"></script>

  <style>
    body {
      font-family: 'Helvetica Neue', sans-serif;
      background-color: #fffdf6;
      color: #3b3b3b;
      overflow-x: hidden;
    }
    section { min-height: 100vh; padding: 60px 20px; position: relative; }
    #hero {
      background: linear-gradient(135deg, #f0e8c2, #fff3b0);
      color: #5b421b;
      overflow: hidden;
    }
    #intro-overlay, #sunrise-glow {
      position: fixed; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none;
    }
    #intro-overlay { background-color: #000; z-index: 9999; }
    #sunrise-glow {
      background: radial-gradient(circle at top center, rgba(255, 140, 0, 0.95) 0%, transparent 50%);
      z-index: -10; filter: blur(40px); animation: glowPulse 10s ease-in-out infinite alternate;
    }
    @keyframes glowPulse { from { opacity: 0.5; } to { opacity: 1; } }
    .particle { position: absolute; pointer-events: none; border-radius: 50%; z-index: 1; }
    .section-title span { display: inline-block; opacity: 0; transform: translateY(20px); }
    summary { list-style: none; cursor: pointer; }
    summary::-webkit-details-marker { display: none; }
  </style>
</head>

<body>
  <div id="intro-overlay"></div>
  <div id="sunrise-glow"></div>
  <div id="particles"></div>

  <nav class="fixed top-0 w-full flex justify-between items-center px-8 py-4 z-50 bg-white bg-opacity-70 backdrop-blur">
    <div class="text-2xl font-bold">Corvid Genetics</div>
    <div class="space-x-6">
      <a href="#about">About</a>
      <a href="#logs">Logs</a>
      <a href="#religion">Religion</a>
      <a href="#conclusion">Conclusion</a>
    </div>
  </nav>

  <!-- Hero with parallax text -->
  <section id="hero" class="flex flex-col justify-center items-center text-center">
    <h1 id="hero-title" class="text-5xl md:text-7xl font-bold mb-6" data-speed="0.3"></h1>
    <p class="text-xl md:text-2xl max-w-xl" data-speed="0.2">
      What if crows evolved intelligence like ours? Would they create gods, myths, rituals?
    </p>
  </section>

  <!-- About -->
  <section id="about" class="relative z-10 bg-[#faf5e4] text-[#2c2c2c]">
    <div class="max-w-4xl mx-auto">
      <h2 class="text-4xl font-bold mb-4 section-title">The Experiment</h2>
      <p class="text-lg leading-relaxed">
        Crows are among the smartest animals — capable of memory, communication, and basic tools. Yet they never built societies.
      </p>
    </div>
  </section>

  <!-- Logs with parallax container -->
  <section id="logs" class="relative z-10 bg-[#e2f0d9] text-[#2f3e2e]">
    <div class="max-w-4xl mx-auto" data-speed="0.1">
      <h2 class="text-4xl font-bold mb-4 section-title">Research Logs</h2>
      <div class="space-y-8">
        <div>
          <h3 class="text-2xl font-semibold">Day 30 – Symbolic Burials</h3>
          <p>Crows bury shiny objects — ritual behavior begins.</p>
        </div>
        <div>
          <h3 class="text-2xl font-semibold">Day 100 – Totemic Behavior</h3>
          <p>Crows gather around totems, dance during storms.</p>
        </div>
        <div>
          <h3 class="text-2xl font-semibold">Day 300 – Emergence of Sky Deity</h3>
          <p>Sky god myths are passed among crows.</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Religion (accordions unchanged) -->
  <section id="religion" class="relative z-10 bg-[#e8eaf6] text-[#1a237e]">
    <div class="max-w-4xl mx-auto space-y-6">
      <h2 class="text-4xl font-bold mb-6 section-title">Crows in Religion</h2>
      <!-- ... your <details> blocks from before ... -->
    </div>
  </section>

  <!-- Conclusion -->
  <section id="conclusion" class="relative z-10 bg-[#fbe9e7] text-[#4a2f2f]">
    <div class="max-w-4xl mx-auto">
      <h2 class="text-4xl font-bold mb-4 section-title">Final Thoughts</h2>
      <p class="text-lg leading-relaxed">
        If crows can create gods, myths, and society when given the spark of intelligence — what does that say about humanity's own origins?
      </p>
    </div>
  </section>

  <script>
    gsap.registerPlugin(ScrollTrigger, TextPlugin);

    // Intro fade
    gsap.to("#intro-overlay", {
      opacity: 0, duration: 2, delay: 1,
      onComplete: () => document.getElementById("intro-overlay").remove()
    });

    // Hero typing
    const text = "Corvid Genetics";
    let idx = 0;
    function typeWriter() {
      if (idx < text.length) {
        document.getElementById("hero-title").innerHTML += text[idx++];
        setTimeout(typeWriter, 100);
      }
    }
    gsap.from("#hero", {
      opacity: 0, scale: 0.8, duration: 2, ease: "power2.out",
      onComplete: typeWriter
    });

    // Glow & particles (same as before)
    gsap.to("#hero-title", {
      textShadow: "0 0 20px #ffe59d, 0 0 40px #ffe59d",
      repeat: -1, yoyo: true, duration: 2, ease: "power1.inOut"
    });
    const particles = [];
    for (let j = 0; j < 100; j++) {
      const p = document.createElement("div");
      p.classList.add("particle");
      document.getElementById("particles").appendChild(p);
      const size = 10 + Math.random() * 10;
      const x = Math.random() * innerWidth, y = Math.random() * innerHeight;
      gsap.set(p, { width: size, height: size, backgroundColor: "gold", top: y, left: x, opacity: 0.3 + Math.random() * 0.4 });
      particles.push({ el: p, x, y });
    }
    particles.forEach(p => gsap.to(p.el, {
      y: p.y - 100, duration: 15 + Math.random() * 10,
      repeat: -1, yoyo: true, ease: "sine.inOut"
    }));
    window.addEventListener("mousemove", e => {
      particles.forEach(p => {
        const dx = p.x - e.clientX, dy = p.y - e.clientY;
        const dist = Math.hypot(dx, dy);
        gsap.to(p.el, dist < 150
          ? { x: Math.cos(Math.atan2(dy, dx)) * 150, y: Math.sin(Math.atan2(dy, dx)) * 150, duration: 0.5, ease: "power3.out" }
          : { x: 0, y: 0, duration: 1, ease: "power3.out" }
        );
      });
    });

    // Section-title reveal
    document.querySelectorAll(".section-title").forEach(el => {
      const txt = el.textContent; el.innerHTML = "";
      txt.split("").forEach((ch, i) => {
        const span = document.createElement("span"); span.textContent = ch; el.appendChild(span);
        gsap.to(span, {
          delay: i * 0.05, opacity: 1, y: 0, ease: "back.out(1.7)",
          scrollTrigger: { trigger: el, start: "top 80%" }
        });
      });
    });

    // ←––– NEW: Parallax setup –––→
    gsap.utils.toArray("[data-speed]").forEach(el => {
      const speed = parseFloat(el.dataset.speed);
      gsap.to(el, {
        y: () => -(window.scrollY * speed),
        ease: "none",
        scrollTrigger: {
          trigger: el,
          start: "top bottom",
          end: "bottom top",
          scrub: true
        }
      });
    });
  </script>
</body>
</html>
