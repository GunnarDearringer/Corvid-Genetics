<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Corvid Genetics</title>

  <!-- Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- GSAP + ScrollTrigger + TextPlugin -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/TextPlugin.min.js"></script>

  <style>
    body {
      font-family: 'Helvetica Neue', sans-serif;
      background-color: #fffdf6;
      color: #3b3b3b;
      overflow-x: hidden;
    }
    section {
      min-height: 100vh;
      padding: 60px 20px;
    }
    /* Hero */
    #hero {
      position: relative;
      background: linear-gradient(135deg, #f0e8c2, #fff3b0);
      color: #5b421b;
      overflow: hidden;
      padding-top: 80px; /* space for nav */
    }
    /* intro & glow */
    #intro-overlay, #sunrise-glow {
      position: fixed; top: 0; left: 0;
      width: 100%; height: 100%;
      pointer-events: none;
    }
    #intro-overlay {
      background-color: #000;
      z-index: 9999;
    }
    #sunrise-glow {
      background: radial-gradient(circle at top center, rgba(255,140,0,0.95) 0%, transparent 50%);
      filter: blur(40px);
      animation: glowPulse 10s ease-in-out infinite alternate;
      z-index: -10;
    }
    @keyframes glowPulse { from { opacity: 0.5 } to { opacity: 1 } }

    /* nav */
    nav {
      position: fixed; top: 0; left: 0; right: 0;
      z-index: 50;
      background: rgba(255,255,255,0.7);
      backdrop-filter: blur(5px);
    }

    /* particles same as before if you still want them */
    #particles { /* ... your existing particle styles ... */ }

    /* crow styling */
    .crow {
      position: absolute;
      width: 48px;
      height: 48px;
      background: url('crow.svg') no-repeat center/contain;
      pointer-events: none;
      will-change: transform;
    }

    /* ensure hero content sits above crows */
    #hero .hero-content {
      position: relative;
      z-index: 2;
    }

    .section-title span {
      display: inline-block;
      opacity: 0;
      transform: translateY(20px);
    }
    summary { list-style: none; cursor: pointer; }
    summary::-webkit-details-marker { display: none; }
  </style>
</head>

<body>
  <div id="intro-overlay"></div>
  <div id="sunrise-glow"></div>

  <nav class="flex justify-between items-center px-8 py-4">
    <div class="text-2xl font-bold">Corvid Genetics</div>
    <div class="space-x-6">
      <a href="#about">About</a>
      <a href="#logs">Logs</a>
      <a href="#religion">Religion</a>
      <a href="#conclusion">Conclusion</a>
    </div>
  </nav>

  <!-- Hero with crows -->
  <section id="hero" class="text-center">
    <div id="particles"></div>
    <div class="hero-content flex flex-col justify-center items-center">
      <h1 id="hero-title" class="text-5xl md:text-7xl font-bold mb-6"></h1>
      <p class="text-xl md:text-2xl max-w-xl">
        What if crows evolved intelligence like ours? Would they create gods, myths, rituals?
      </p>
    </div>
  </section>

  <!-- About -->
  <section id="about" class="bg-[#faf5e4] text-[#2c2c2c]">
    <div class="max-w-4xl mx-auto">
      <h2 class="text-4xl font-bold mb-4 section-title">The Experiment</h2>
      <p class="text-lg leading-relaxed">
        Crows are among the smartest animals — capable of memory, communication, and basic tools. Yet they never built societies.
      </p>
    </div>
  </section>

  <!-- Logs -->
  <section id="logs" class="bg-[#e2f0d9] text-[#2f3e2e]">
    <div class="max-w-4xl mx-auto">
      <h2 class="text-4xl font-bold mb-4 section-title">Research Logs</h2>
      <div class="space-y-8">
        <div><h3 class="text-2xl font-semibold">Day 30 – Symbolic Burials</h3><p>Crows bury shiny objects — ritual behavior begins.</p></div>
        <div><h3 class="text-2xl font-semibold">Day 100 – Totemic Behavior</h3><p>Crows gather around totems, dance during storms.</p></div>
        <div><h3 class="text-2xl font-semibold">Day 300 – Emergence of Sky Deity</h3><p>Sky god myths are passed among crows.</p></div>
      </div>
    </div>
  </section>

  <!-- Religion (accordions) -->
  <section id="religion" class="bg-[#e8eaf6] text-[#1a237e]">
    <div class="max-w-4xl mx-auto space-y-6">
      <h2 class="text-4xl font-bold mb-6 section-title">Crows in Religion</h2>
      <!-- ... your <details> blocks from before ... -->
    </div>
  </section>

  <!-- Conclusion -->
  <section id="conclusion" class="bg-[#fbe9e7] text-[#4a2f2f]">
    <div class="max-w-4xl mx-auto">
      <h2 class="text-4xl font-bold mb-4 section-title">Final Thoughts</h2>
      <p class="text-lg leading-relaxed">
        If crows can create gods, myths, and society when given the spark of intelligence — what does that say about humanity's own origins?
      </p>
    </div>
  </section>

  <script>
    gsap.registerPlugin(ScrollTrigger, TextPlugin);

    // Intro fade
    gsap.to("#intro-overlay", {
      opacity: 0, duration: 2, delay: 1,
      onComplete: () => document.getElementById("intro-overlay").remove()
    });

    // Hero title typing
    const text = "Corvid Genetics";
    const title = document.getElementById("hero-title");
    let idx = 0;
    function typeWriter() {
      if (idx < text.length) {
        title.innerHTML += text.charAt(idx++);
        setTimeout(typeWriter, 100);
      }
    }
    gsap.from("#hero", { opacity: 0, scale: 0.8, duration: 2, ease: "power2.out", onComplete: typeWriter });

    // Title glow
    gsap.to("#hero-title", {
      textShadow: "0 0 20px #ffe59d, 0 0 40px #ffe59d",
      repeat: -1, yoyo: true, duration: 2, ease: "power1.inOut"
    });

    // Crow flight in header
    const hero = document.getElementById("hero");
    const heroW = hero.clientWidth;
    const heroH = hero.clientHeight;
    const crowCount = 8;
    for (let i = 0; i < crowCount; i++) {
      const c = document.createElement("div");
      c.classList.add("crow");
      hero.appendChild(c);
      const startY = Math.random() * heroH * 0.6 + 20; // keep them in upper 60%
      gsap.set(c, { x: -60, y: startY });
      gsap.to(c, {
        x: heroW + 60,
        duration: 8 + Math.random() * 5,
        ease: "linear",
        repeat: -1,
        delay: -Math.random() * 10
      });
    }

    // Section titles animation
    document.querySelectorAll(".section-title").forEach(el => {
      const txt = el.textContent;
      el.innerHTML = "";
      txt.split("").forEach((ch, i) => {
        const span = document.createElement("span");
        span.textContent = ch;
        el.appendChild(span);
        gsap.to(span, {
          delay: i * 0.05,
          opacity: 1,
          y: 0,
          ease: "back.out(1.7)",
          scrollTrigger: { trigger: el, start: "top 80%" }
        });
      });
    });
  </script>
</body>
</html>
